<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>

    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="css/style.css" />
    

    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.3/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.8/jquery.inputmask.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

    
    <!-- NAVBAR -->
    <div class="navbar bg-black fixed top-0 w-full z-50">
        <a class="btn btn-ghost text-xl text-white">
                            WLD.LOL
                    </a>
    </div>

    <!-- CARD CENTRADA -->

    <div class="flex justify-center items-center min-h-screen text-white" style="background: #f5f5f5">
        <div class="card bordered">
            <div class="card-body">
                <h2 class="card-title text-black mt-12 mb-4 text-lg sm:text-xl md:text-2xl lg:text-3xl">
                    Intercambio WLD
                    <svg width="35" height="35" viewBox="0 0 200 200">
                        <path fill="none" stroke="black" stroke-width="12"
                            d="M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"
                            stroke-dasharray="471.23889803886414" stroke-dashoffset="471.23889803886414">
                            <animate attributeName="stroke-dashoffset" from="471.23889803886414" to="0"
                                dur="2s" begin="0s" repeatCount="1" keyTimes="0; 0.2; 1"
                                keySplines="0.1 0.7 0.1 1; 0.1 0.7 0.1 1" calcMode="spline" />
                            <animate attributeName="stroke-dashoffset" from="0" to="0" dur="1s"
                                begin="2s" repeatCount="indefinite" />
                        </path>

                        <line x1="155" y1="50" x2="100" y2="50" stroke="black"
                            stroke-width="12" stroke-dasharray="55" stroke-dashoffset="55">
                            <animate attributeName="stroke-dashoffset" from="55" to="0" dur="1s"
                                begin="2s" repeatCount="1" />
                            <animate attributeName="stroke-dashoffset" from="0" to="0" dur="1s"
                                begin="3s" repeatCount="indefinite" />
                        </line>

                        <line x1="155" y1="150" x2="100" y2="150" stroke="black"
                            stroke-width="12" stroke-dasharray="55" stroke-dashoffset="55">
                            <animate attributeName="stroke-dashoffset" from="55" to="0" dur="1s"
                                begin="2s" repeatCount="1" />
                            <animate attributeName="stroke-dashoffset" from="0" to="0" dur="1s"
                                begin="3s" repeatCount="indefinite" />
                        </line>

                        <path fill="none" stroke="black" stroke-width="12" d="M100 150 A 50 50 0 0 1 100 50"
                            stroke-dasharray="157.07963267948966" stroke-dashoffset="157.07963267948966">
                            <animate attributeName="stroke-dashoffset" from="157.07963267948966" to="0"
                                dur="2s" begin="3s" repeatCount="1" keyTimes="0; 0.2; 1"
                                keySplines="0.1 0.7 0.1 1; 0.1 0.7 0.1 1" calcMode="spline" />
                            <animate attributeName="stroke-dashoffset" from="0" to="0" dur="1s"
                                begin="5s" repeatCount="indefinite" />
                        </path>

                        <line x1="25" y1="100" x2="25" y2="100" stroke="black"
                            stroke-width="12">
                            <animate attributeName="x2" from="25" to="175" dur="2s" begin="5s"
                                fill="freeze" />
                        </line>
                    </svg>
                </h2>

                <div role="alert"
                    class="relative flex w-full px-4 py-4 text-base text-black bg-yellow-400 rounded-lg font-regular">
                    <div class="shrink-0">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                            stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z">
                            </path>
                        </svg>
                    </div>
                                            <div class="ml-3 mr-12">Los envíos pueden tardar de 30 a 50 minutos a NEQUI, BANCOLOMBIA y
                            DAVIPLATA.
                            <br />
                            Otros bancos, 1 Día hábil. <br>
                            El precio mostrado ya tiene el descuento de 3800 de comisión
                        </div>
                                    </div>

                <div class="form-control">
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg mt-2"
                        style="display: grid; grid-template-columns: 3fr 1fr">
                        <div>
                            <label class="label mb-0 pt-1 pb-0" htmlfor="recibo">
                                <span class="label-text text-white pl-2" style="color: #86889a">Total a enviar:</span>
                            </label>

                            <input id="recibo" name="recibo" type="text" placeholder="0" step="0.000001"
                                class="input w-full bg-transparent text-black border-0 focus:outline-none text-2xl pt-0 pb-0"
                                style="color: black" />
                        </div>

                        <div
                            class="mr-2 bg-white w-full h-full rounded rounded-tl-none rounded-bl-none flex flex-col justify-center items-center">
                            <img class="image-world-coin pt-1 pb-0" src="assets/wroldcoin.png" alt="WorldCoin" />
                            <label class="label text-black pt-0 pb-0">WLD</label>
                        </div>
                    </div>
                </div>

                <div style="display: flex; align-items: center">
                    
                    <hr
                        style="
                flex-grow: 1;
                border-top: 1px solid black;
                margin-left: 10px;
              " />
                </div>

                <div class="form-control" >
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg"
                        style="display: grid; grid-template-columns: 3fr 1fr;">
                        <div>
                            <label class="label pt-1 pb-0" htmlfor="pago">
                                <span class="label-text text-white pl-2" style="color: #86889a">¿Cuanto quieres
                                    recibir?</span>
                            </label>

                            <input id="pago" name="pago" type="text" placeholder="$ 0"
                                class="input w-full bg-transparent text-black border-0 focus:outline-none text-2xl pt-0 pb-0"
                                style="color: black" />

                            <span id="label_fee_payment_method" class="label-text text-white pl-2"
                                style="color: #d1440c">Por este método de pago se te cobrará una comision de $3800 ya
                                incluída</span>
                        </div>

                        <div
                            class="mr-2 bg-white w-full h-full rounded rounded-tl-none rounded-bl-none flex flex-col justify-center items-center">
                            <label
                                class="label sm:text-xs md:sm lg:text-sm pt-1 pb-0 text-black">COP</label>
                            <img class="image-world-coin pt-1 pb-0" src="assets/COL.png"
                                alt="WorldCoin" />
                        </div>
                    </div>
                </div>

                <meta name="csrf-token" content="Mhg21oM8asS6X3jGrIDRpk0QUVDvbc7pYBf1ffsp">

                <input type="hidden" id="colurs_customer_id" name="colurs_customer_id"
                    value="">

                <div class="form-control" >
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                        <div>
                            <label class="label mb-0 pt-1 pb-0">
                                <span class="label-text text-white pl-2" style="color: #86889a">Código de
                                    referido</span>
                            </label>

                            <input type="text" placeholder="Código de referido" id="referrals_reference"
                                name="referrals_reference" value=""
                                class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0"
                                style="color: black"  />
                        </div>
                    </div>
                </div>

                <div class="form-control relative">
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                        <div>
                            <label class="label mb-0 pt-1 pb-0">
                                <span class="label-text text-white pl-2" style="color: #86889a">Número de
                                    documento</span>
                            </label>
                            <div class="relative">
                                <input type="number" placeholder="Escriba su número de documento"
                                    id="customer_document_number"
                                    class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0 pr-10"
                                    style="color: black; padding-right: 2.5rem;"
                                    value="" />
                                <svg class="absolute right-0 top-0 mt-2 mr-2 animate-spin h-5 w-5 text-gray-500"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    style="display: none" id="spinner">
                                    <circle class="opacity-25" cx="12" cy="12" r="10"
                                        stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.963 7.963 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                    </path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-control">
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                        <div>
                            <label class="label mb-0 pt-1 pb-0">
                                <span class="label-text text-white pl-2" style="color: #86889a">Nombres</span>
                            </label>

                            <input type="text" placeholder="Escriba su nombre" id="customer_full_name"
                                class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0"
                                style="color: black" value="" />
                        </div>
                    </div>
                </div>

                <div class="form-control">
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                        <div>
                            <label class="label mb-0 pt-1 pb-0">
                                <span class="label-text text-white pl-2" style="color: #86889a">Correo
                                    electrónico</span>
                            </label>

                            <input type="text" placeholder="Escribe tu correo" id="customer_email"
                                class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0"
                                style="color: black" name="customer_email"
                                value="" />
                        </div>
                    </div>
                </div>

                <div class="form-control">
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                        <div>
                            <label class="label mb-0 pt-1 pb-0">
                                <span class="label-text text-white pl-2" style="color: #86889a">Teléfono</span>
                            </label>

                            <input type="text" placeholder="Escriba su teléfonooo"
                                id="customer_phone_number"
                                class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0"
                                style="color: black" value="" />
                        </div>
                    </div>
                </div>

                <div class="form-control">
                    <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg"
                        style="display: grid; grid-template-columns: 3fr 1fr">
                        <div>
                            <label class="label mb-0 pt-1 pb-0">
                                <span class="label-text text-white pl-2" style="color: #86889a">Método
                                    consignación</span>
                            </label>

                            <select class="select w-full max-w-xs" id="bank"
                                style="background: white; border: none; color: black">

                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="cash">
                                        Efectivo
                                    </option>
                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="0">
                                        BANCOLOMBIA
                                    </option>
                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="1">
                                        BANCO DE BOGOTA
                                    </option>
                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="3">
                                        BBVA COLOMBIA
                                    </option>
                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="19">
                                        DAVIPLATA
                                    </option>
                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="18">
                                        NEQUI
                                    </option>
                                                                    <option style="background: #ffffff; color: #000000 !important"
                                        value="2">
                                        BANCO DAVIVIENDA S.A.
                                    </option>
                                                                                            </select>
                        </div>

                        <div id="bank-image" class="flex items-center justify-center">
                            <img class="bank-image" src="index.html" />
                        </div>
                    </div>
                </div>

                <div id="bank_selected_bancolombia">
                    <div class="form-control" id="bank_type">
                        <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                            <div>
                                <label class="label mb-0 pt-1 pb-0">
                                    <span class="label-text text-white pl-2"
                                        style="color: #86889a">Tipo de cuenta</span>
                                </label>

                                <input type="text" placeholder="Escriba su Tipo de cuenta" id="bank_type"
                                    class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0"
                                    style="color: black" />
                            </div>
                        </div>
                    </div>

                    <div class="form-control">
                        <div class="w-full sm:w-[500px] h-auto flex flex-col rounded-md mb-4 bg-white shadow-lg">
                            <div>
                                <label class="label mb-0 pt-1 pb-0">
                                    <span class="label-text text-white pl-2" style="color: #86889a"
                                        id="bank_account_label">Numero cuenta</span>
                                </label>

                                <input type="text" placeholder="Numero cuenta" id="bank_account"
                                    class="input w-full bg-transparent text-black border-0 focus:outline-none pt-0 pb-0"
                                    style="color: black" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-control">
                    <label class="label cursor-pointer" style="justify-content: start">
                        <input type="checkbox" class="checkbox" id="ageCheckbox" />
                        <span class="label-text"> Soy mayor de edad</span>
                    </label>
                </div>

                <div class="form-control">
                    <label class="label cursor-pointer" style="justify-content: start">
                        <input type="checkbox" class="checkbox" id="termsCheckbox" />
                        <span class="label-text"> He leído y acepto los <a class="link"
                                href="policy/terms.html">términos y condiciones</a></span>
                    </label>
                </div>

                <div class="form-control">
                    <label class="label cursor-pointer" style="justify-content: start">
                        <input type="checkbox" class="checkbox" id="privacyCheckbox" />
                        <span class="label-text"> He leído y <a class="link" href="policy/data.html">autorizo</a> el
                            tratamiento de mis datos de acuerdo con la <a class="link"
                                href="policy/privacy.html">política de privacidad</a></span>
                    </label>
                </div>

                <button class="btn bg-black text-white shadow-lg" id="createBtn" disabled onclick="create()">
                    Aceptar
                </button>
            </div>
        </div>
    </div>

    <footer class="footer p-10 bg-neutral text-neutral-content">
        <nav>
            <h6 class="footer-title">Compañía</h6>
            <a class="link link-hover">¿Quienes somos?</a>
        </nav>
        <nav>
            <h6 class="footer-title">Recursos</h6>
            <a class="link link-hover" href="policy/terms.html">Términos y condiciones</a>
            <a class="link link-hover" href="policy/privacy.html">Política de privacidad</a>
            <a class="link link-hover" href="policy/data.html">Autorización para el tratamiento de datos</a>
        </nav>
    </footer>
</body>

</html>

<script>
    let inverted = "0";
    let amount = 0;
    let payout_fee = 0;

    $(document).ready(function() {
        // $('#pago').inputmask({
        //     alias: 'numeric',
        //     prefix: '$ ',
        //     autoUnmask: true,
        //     digits: 0, // Esto asegura que no haya decimales
        //     groupSeparator: ','
        // });

        // $('#recibo').inputmask({
        //     alias: 'numeric',
        //     prefix: '',
        //     autoUnmask: true,
        //     digits: 18, // Esto asegura que no haya decimales
        //     groupSeparator: '.'
        // });

        // $("#bank").val("cash");

        // var imgElement = document.querySelector("#bank-image img");
        // imgElement.src = "./assets/efectivo.png";

    });

    const banksWithHiddenAccountType = [
        "0", "1", "2", "3", "19", "18"
    ]

    // Función de debouncing
    function debounce(func, wait) {
        let timeout;
        return function executedFunction() {
            const context = this;
            const args = arguments;
            const later = function() {
                timeout = null;
                func.apply(context, args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }

    // Función para obtener la tasa, debounceada
    const debouncedGetRate = debounce(getRate, 300);

    function getRate() {

        let ref_code = document.getElementById('referrals_reference').value;
        let payment_method = document.getElementById('bank').value;

        if (amount === 0) {
            return;
        }

        fetch('convert?amount=' + amount + '&inverted=' + inverted + '&referrals_reference=' + ref_code +
                '&payment_method=' + payment_method)
            .then(response => response.json())
            .then(data => {
                if (data.inverted === "0") {
                    $("#recibo").val(data.converted);
                } else {
                    $("#pago").val(data.converted);
                }
                payout_fee = data.payout_fee;
            });
    }

    $("#pago").on("input", function() {
        amount = $(this).val();
        inverted = "0";
        debouncedGetRate();
    });

    $("#recibo").on("input", function() {
        amount = $(this).val();
        inverted = "1";
        debouncedGetRate();
    });

    document.addEventListener("DOMContentLoaded", function() {
        $("#bank_selected_bancolombia").hide();

        var imgElement = document.querySelector("#bank-image img");

        var selectElement = document.querySelector(".select");

        const bankImages = {
            daviplata: "./assets/daviPlata.png",
            nequi: "./assets/Nequi.png",
            bancolombia: "./assets/bancolombia.png",
            mercadopago: "./assets/mercadopago.png",
            banco_nacion: "./assets/banco_nacion.png",
            brubank: "./assets/brubank.png",
            cuenta_dni_o_provincia: "./assets/cuenta_dni_o_provincia.png",
            uala: "./assets/uala.png",
            cash: "./assets/efectivo.png",
            otros: "./assets/efectivo.png",
            banco_guayaquil: "./assets/efectivo.png",
            banco_pichincha: "./assets/efectivo.png",
            0: "./assets/bancolombia.png",
            19: "./assets/daviPlata.png",
            18: "./assets/Nequi.png",
            colurs_balance: "./assets/colurs.png"
        };

        const banksWithAdditionalInfo = [
            "bancolombia", "banco_guayaquil", "banco_pichincha", "mercadopago",
            "banco_nacion", "brubank", "cuenta_dni_o_provincia", "uala", "otros",
            "1007", "1001", "1013", "1051", "1551", "1507",
            "0", "1", "2", "3", "19", "18"
        ];

        function updateBankInfo() {
            const selectedValue = selectElement.value;
            $("#bank_selected_bancolombia").toggle(banksWithAdditionalInfo.includes(selectedValue));
            imgElement.src = bankImages[selectedValue] || "./assets/efectivo.png";

            if (selectedValue === "18") {
                $("#bank_account_label").html("Número de NEQUI");
                $("#bank_account").attr("placeholder", "Número de NEQUI");
            } else if (selectedValue === "19") {
                $("#bank_account_label").html("Número de c");
                $("#bank_account").attr("placeholder", "Número de DAVIPLATA");
            } else {
                $("#bank_account_label").html("Número de cuenta ahorros");
                $("#bank_account").attr("placeholder", "Número de cuenta ahorros");
            }

            if (banksWithHiddenAccountType.includes(selectedValue)) {
                $("#bank_type").hide();
                $("#label_fee_payment_method").show();
            } else {
                $("#bank_type").show();
                $("#label_fee_payment_method").hide();
            }

            debouncedGetRate();
        }

        selectElement.addEventListener("change", updateBankInfo);

        if (selectElement.selectedIndex === 0) {
            selectElement.selectedIndex = 1;
            selectElement.dispatchEvent(new Event('change'));
        }
        updateBankInfo();

    });

    function create() {
        let customer_full_name = document.getElementById('customer_full_name').value;
        let customer_phone_number = document.getElementById('customer_phone_number').value;
        let bank = document.getElementById('bank').value;
        let customer_document_number = document.getElementById('customer_document_number').value;
        let bank_type = document.getElementById('bank_type').value;
        let bank_account = document.getElementById('bank_account').value;
        let referrals_reference = document.getElementById('referrals_reference').value;
        let customer_email = document.getElementById('customer_email').value;
        let colurs_customer_id = document.getElementById('colurs_customer_id').value ?? '';

        // if (inverted === "0") {
        //     amount = document.getElementById('pago').value;
        // } else {
        //     amount = document.getElementById('recibo').value;
        // }

        // disable createBtn

        let payment_method = document.getElementById('bank').options[document.getElementById('bank').selectedIndex]
            .text ?? '';
        let amount_fiat = document.getElementById('pago').value - payout_fee;

        let message = 'Recibiras $' + amount_fiat + ' a la cuenta ' + payment_method + ' ' + bank_account;

        // make a swal with confirmation
        Swal.fire({
            title: '¿Estás seguro?',
            text: message,
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#000',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sí, continuar'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('createBtn').disabled = true;

                fetch('/store', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]')
                                .getAttribute('content'),
                            'accept': 'application/json'
                        },
                        body: JSON.stringify({
                            customer_full_name: customer_full_name,
                            customer_phone_number: customer_phone_number,
                            customer_document_number: customer_document_number,
                            bank: bank,
                            amount: amount,
                            inverted: inverted,
                            bank_type: bank_type,
                            bank_account: bank_account,
                            referrals_reference: referrals_reference,
                            customer_email: customer_email,
                            colurs_id: colurs_customer_id,
                        })
                    })
                    .then(response => {
                        if (!response.ok) {
                            return response.json().then(errorResponse => {
                                throw new Error(errorResponse.message ||
                                    'Error en la solicitud');
                            });
                        }
                        // enable createBtn
                        document.getElementById('createBtn').disabled = false;
                        return response.json();
                    })
                    .then(data => {
                        console.log(data);
                        window.location.href = "/" + data.uuid + "?ref=" + referrals_reference;
                    })
                    .catch(error => {
                        Swal.fire({
                            title: 'Error!',
                            text: error.message,
                            icon: 'error',
                            confirmButtonText: 'Aceptar'
                        });
                        document.getElementById('createBtn').disabled = false;
                    });
            }
        });
    }

    $(document).ready(function() {
        $('.checkbox').on('change', function() {
            if ($('#ageCheckbox').is(':checked') &&
                $('#termsCheckbox').is(':checked') &&
                $('#privacyCheckbox').is(':checked')) {
                $('#createBtn').prop('disabled', false);
            } else {
                $('#createBtn').prop('disabled', true);
            }
        });
    });

    $('#customer_document_number').on('blur', function() {
        let documentNumber = $(this).val();

        // Mostrar el spinner
        $('#spinner').show();

        if (documentNumber.length === 0) {
            // Ocultar el spinner
            $('#spinner').hide();
            return;
        }

        // Realizar la solicitud AJAX
        $.ajax({
            url: '/validate',
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute(
                    'content'),
                'accept': 'application/json'
            },
            data: JSON.stringify({
                document_number: documentNumber
            }),
            success: function(response) {
                $('#customer_full_name').val(response.full_name);
                $('#customer_email').val(response.email);
                $('#customer_phone_number').val(response.phone_number);
                $('#spinner').hide();
            },
            error: function(xhr, status, error) {
                $('#customer_full_name').val("");
                $('#customer_email').val("");
                $('#customer_phone_number').val("");
                $('#spinner').hide();
            }
        });
    });
</script>
