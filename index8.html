<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Sale Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #343a40;
        }
        header {
            background-color: #212529;
            color: #fff;
            padding: 1rem;
            text-align: center;
        }
        header img {
            max-width: 90px;
            vertical-align: middle;
            margin-right: 10px;
        }
        main {
            padding: 2rem;
        }
        section {
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        h1, h2 {
            color: #212529;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #495057;
        }
        input, select, button {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid #ced4da;
            border-radius: 5px;
            background-color: #ffffff;
            color: #495057;
        }
        button {
            background-color: #343a40;
            color: #fff;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background-color: #212529;
        }
        .highlight {
            color: #6c757d;
            font-weight: bold;
        }
        footer {
            background-color: #212529;
            color: #fff;
            text-align: center;
            padding: 1rem;
        }
        .hidden {
            display: none;
        }
    .navbar {
      display: flex;
      justify-content: space-around;
      align-items: center;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #000000;
      box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.5);
      padding: 10px 0;
      border-top: 3px solid #1abc9c;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .nav-item img {
      width: 30px;
      height: 30px;
      border-radius: 30%;
      padding: 1px;
      background: #ecf0f1;
      border: 5px solid #bdc3c7;
    }

    .nav-item p {
      font-size: 10px;
      margin-top: 5px;
      color: #ecf0f1;
      text-align: center;
    }

    /* Eliminar cuadro azul y efectos visuales al hacer clic */
    a, button, .circle {
      outline: none;
      border: none;
      transition: none; /* Eliminar animaciones y efectos */
      -webkit-tap-highlight-color: transparent; /* Desactivar resaltado en móviles */
    }

    a:focus, button:focus, .circle:focus {
      outline: none; /* Eliminar cuadro de enfoque */
    }

    a:active, button:active, .circle:active {
      transform: none; /* Evitar cambios de escala */
      box-shadow: none; /* Evitar cambios de sombra */
    }

    /* Desactivar selección de texto/iconos */
    a, .circle {
      user-select: none; /* Desactivar selección */
    }

    /* General */
    a {
      text-decoration: none;
    }
    </style>
    <script>
        const tasaCambio = 4366;

        let cantidadTokens = 0;  // Variable global para almacenar la cantidad de tokens

        function obtenerPrecioToken() {
            const token = "WLD";  
            fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${token}USDT`)
                .then(response => response.json())
                .then(data => {
                    const precioUSD = parseFloat(data.price);
                    const precioCOP = precioUSD * tasaCambio;
                    document.getElementById("precio-token").textContent = precioCOP.toLocaleString('es-CO', { minimumFractionDigits: 2 }) + ' COP';
                    actualizarValorRecibir(); 
                })
                .catch(() => {
                    document.getElementById("precio-token").textContent = "No disponible";
                });
        }

        function actualizarValorRecibir() {
            const cantidad = parseFloat(document.getElementById("amount").value) || 0;
            const precioCOP = parseFloat(document.getElementById("precio-token").textContent.replace(' COP', '').replace(/,/g, '')) || 0;
            const valorRecibir = cantidad * precioCOP * (1 - 0.16);  
            document.getElementById("valor-recibir").textContent = valorRecibir.toLocaleString('es-CO', { minimumFractionDigits: 2 }) + ' COP';
        }

        function continuarVenta() {
            // Guardamos la cantidad de tokens ingresada en la variable global
            cantidadTokens = parseFloat(document.getElementById("amount").value) || 0;
            document.getElementById("tokenSale").classList.add("hidden");
            document.getElementById("formularioPago").classList.remove("hidden");
        }

        function retroceder() {
            document.getElementById("formularioPago").classList.add("hidden");
            document.getElementById("tokenSale").classList.remove("hidden");
        }

        function enviarFormulario() {
            const formData = new FormData(document.getElementById("formPago"));
            let mensaje = `Venta de token WLD\n`;
            formData.forEach((value, key) => {
                mensaje += `${key}: ${value}\n`;
            });
            
            // Añadir valor a recibir y cantidad de tokens al mensaje
            const valorRecibir = document.getElementById("valor-recibir").textContent;
            mensaje += `Valor a recibir: ${valorRecibir}\n`;
            mensaje += `Cantidad de tokens vendidos: ${cantidadTokens} WLD\n`;  // Aquí se añade la cantidad de tokens

            // Codificar mensaje para WhatsApp
            const mensajeWhatsApp = encodeURIComponent(mensaje);

            // Enviar el mensaje a WhatsApp
            const enlaceWhatsApp = `https://wa.me/3248092374?text=${mensajeWhatsApp}`;
            window.open(enlaceWhatsApp, '_blank');
            
            alert("Formulario enviado correctamente");
        }

        document.addEventListener("DOMContentLoaded", function() {
            obtenerPrecioToken();
        });
    </script>
</head>
<body>
    <header>
        <img src="https://wallet-bussines.github.io/Worldcoin-2.png" alt="Logo">
        <h1>Token Sale Platform</h1>
    </header>

    <main>
        <!-- Sección de venta de token -->
        <section id="tokenSale">
            <h2>Selecciona el token que deseas vender</h2>
            <form id="tokenForm" onsubmit="event.preventDefault(); continuarVenta();">
                <label for="amount">Cantidad (WLD):</label>
                <input type="number" id="amount" name="amount" step="any" required oninput="actualizarValorRecibir()">
                <p id="pricePreview">Precio estimado a recibir: <span class="highlight" id="precio-token">0 COP</span></p>
                <p>Valor estimado a recibir después de descuento: <span class="highlight" id="valor-recibir">0 COP</span></p>
                <button type="submit">Continuar</button>
            </form>
        </section>

        <!-- Sección de formulario de pago (oculta hasta continuar) -->
        <section id="formularioPago" class="hidden">
            <h2>Selecciona el método de pago</h2>
            <form id="formPago" onsubmit="event.preventDefault(); enviarFormulario();">
                <label for="metodoPago">Método de pago:</label>
                <select id="metodoPago" name="metodoPago" required>
                    <option value="Nequi">Nequi</option>
                    <option value="Daviplata">Daviplata</option>
                    <option value="Ahorro">Ahorro</option>
                    <option value="Transfiya">Transfiya</option>
                    <option value="Transferencia Bancaria">Transferencia Bancaria</option>
                </select>

                <label for="nombre">Nombre y Apellidos:</label>
                <input type="text" id="nombre" name="nombre" required>

                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono" required>

                <label for="correo">Correo Electrónico:</label>
                <input type="email" id="correo" name="correo" required>

                <label for="cuenta">Número de Cuenta:</label>
                <input type="text" id="cuenta" name="cuenta" required>

                <h3>Detalles de la venta</h3>
                <p>Venta de token WLD: <span id="detallesCantidad"></span> WLD</p>
                <p>Valor a recibir: <span id="detallesValorRecibir"></span> COP</p>

                <button type="submit">Enviar</button>
                <button type="button" onclick="retroceder()">Atrás</button> <!-- Botón de retroceso -->
            </form>
        </section>
    </main>

    <footer>
        <p>© 2024 Token Sale Platform</p>
    </footer>

    <script>
        // Mostrar la cantidad de tokens y el valor a recibir al cambiar de formulario
        document.getElementById("tokenForm").addEventListener("submit", function() {
            const cantidad = document.getElementById("amount").value;
            const valorRecibir = document.getElementById("valor-recibir").textContent;
            document.getElementById("detallesCantidad").textContent = cantidad;
            document.getElementById("detallesValorRecibir").textContent = valorRecibir;
        });
    </script>
        <div class="navbar">
  <div class="nav-item">
    <a href="https://wallet-bussines.github.io/invitacion.html" target="_blank">
      <img src="https://wallet-bussines.github.io/anadir-amigo.png" alt="Inicio">
      <p>Invitar</p>
    </a>
  </div>
  <div class="nav-item">
    <a href="https://wallet-bussines.github.io/wallet.html" target="_blank">
      <img src="https://wallet-bussines.github.io/negociacion-de-comercio-de-propiedades.png" alt="Vender">
      <p>Vender</p>
    </a>
  </div>
  <div class="nav-item">
    <a href="https://worldscan.org/token/0x2cfc85d8e48f8eab294be644d9e25c3030863003?a=0xde6b6e1cddbfd1d94afc01957748c36c36f43af4" target="_blank">
      <img src="https://wallet-bussines.github.io/historial-de-pedidos.png" alt="Historial">
      <p>Historial</p>
    </a>
  </div>
  <div class="nav-item">
    <a href="https://api.whatsapp.com/send/?phone=573248092374&text=" target="_blank">
      <img src="https://wallet-bussines.github.io/apoyo.png" alt="Soporte">
      <p>Soporte</p>
    </a>
  </div>
</div>
</body>
</html>
