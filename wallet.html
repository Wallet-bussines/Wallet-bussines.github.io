<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enlaces Dinámicos de Mini Apps</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
        header {
            background-color: #0070f3;
            color: white;
            text-align: center;
            padding: 20px;
        }
        main {
            padding: 20px;
        }
        section {
            margin-bottom: 20px;
            padding: 20px;
            background: #ffffff;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        h2 {
            margin-top: 0;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            background-color: #0070f3;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #005bb5;
        }
        .link-display {
            margin-top: 20px;
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <header>
        <h1>Enlaces Dinámicos de Mini Apps</h1>
    </header>
    <main>
        <section>
            <h2>Generar Enlace de Mini App</h2>
            <form id="miniAppForm">
                <label for="appId">Selecciona una Mini App</label>
                <select id="appId" required>
                    <!-- Opciones cargadas dinámicamente -->
                </select>

                <label for="path">Ruta de la Mini App</label>
                <input type="text" id="path" placeholder="Ejemplo: /resource/path" required>

                <button type="button" onclick="generateLink()">Generar Enlace</button>
            </form>

            <div id="generatedLink" class="link-display" style="display: none;"></div>
        </section>
    </main>

    <script>
        // Configuración inicial de mini apps (puede venir de una API o archivo JSON)
        const miniApps = [
            { app_id: "app_12345", name: "Mini App 1" },
            { app_id: "app_67890", name: "Mini App 2" },
            { app_id: "app_54321", name: "Mini App 3" }
        ];

        // Cargar mini apps en el selector
        function loadMiniApps() {
            const appIdSelect = document.getElementById("appId");
            miniApps.forEach(app => {
                const option = document.createElement("option");
                option.value = app.app_id;
                option.textContent = app.name;
                appIdSelect.appendChild(option);
            });
        }

        // Generar enlace dinámico
        function generateLink() {
            const appId = document.getElementById("appId").value;
            const path = document.getElementById("path").value;

            if (!appId || !path) {
                alert("Por favor, completa todos los campos.");
                return;
            }

            const link = `https://worldcoin.org/mini-app?app_id=${encodeURIComponent(appId)}&path=${encodeURIComponent(path)}`;
            const linkDisplay = document.getElementById("generatedLink");
            linkDisplay.textContent = link;
            linkDisplay.style.display = "block";
        }

        // Inicializar la página
        window.onload = loadMiniApps;
    </script>
</body>
</html>
